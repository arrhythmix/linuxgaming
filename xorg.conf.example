# This is an example of what passing nvidia-xconfig generates as the xorg.conf 
# This is for GPUs with monitors attatched, works for headless as well. 
# The main idea is to ensure `Option "Coolbits" "28"` is enabled.
# Restart afterwards
                                                                                                                                                       /etc/X11/xorg.conf                                                                                                                                                                           
# nvidia-xconfig: X configuration file generated by nvidia-xconfig
# nvidia-xconfig:  version 440.59

Section "ServerLayout"
    Identifier     "Layout0"
    Screen      0  "Screen0" 0 0
    InputDevice    "Keyboard0" "CoreKeyboard"
    InputDevice    "Mouse0" "CorePointer"
    Option         "Xinerama" "0"
EndSection

Section "Files"
EndSection

Section "InputDevice"

    # generated from default
    Identifier     "Mouse0"
    Driver         "mouse"
    Option         "Protocol" "auto"
    Option         "Device" "/dev/psaux"
    Option         "Emulate3Buttons" "no"
    Option         "ZAxisMapping" "4 5"
EndSection

Section "InputDevice"

    # generated from default
    Identifier     "Keyboard0"
    Driver         "kbd"
EndSection

#Monitor stuff
#Section "Monitor"
#    Identifier     "Monitor0"
#    VendorName     "Unknown"
#    ModelName      "Ancor Communications Inc ASUS VS239"
#    HorizSync       24.0 - 83.0
#    VertRefresh     50.0 - 75.0
#    Option         "DPMS"
#EndSection

#Important part, just rename things under "BoardName" if incorrect, main objective here is to enable overclocking and voltage unlock.
Section "Device"
    Identifier     "Device0"
    Driver         "nvidia"
    VendorName     "NVIDIA Corporation"
    BoardName      "GeForce GTX 980 Ti"
    Option         "Coolbits" "28"
    Option         "RegistryDwords" "PowerMizerEnable=0x1; PerfLevelSrc=0x2222; PowerMizerLevel=0x1; PowerMizerDefault=0x1; PowerMizerDefaultAC=0x1"
EndSection

#Section "Screen"
# Removed Option "metamodes" "DVI-I-1: nvidia-auto-select +2560+360, HDMI-0: nvidia-auto-select +4480+360, DP-4: nvidia-auto-select +0+0"
#    Identifier     "Screen0"
#    Device         "Device0"
#    Monitor        "Monitor0"
#    DefaultDepth    24
#    Option         "Stereo" "0"
#    Option         "nvidiaXineramaInfoOrder" "DFP-6"
#    Option         "metamodes" "DVI-I-1: nvidia-auto-select +2560+600, HDMI-0: nvidia-auto-select +4480+0 {rotation=left}, DP-4: nvidia-auto-select +0+240"
#    Option         "SLI" "Off"
#    Option         "MultiGPU" "Off"
#    Option         "BaseMosaic" "off"
#    SubSection     "Display"
#        Depth       24
#    EndSubSection
EndSection




